æœ¬é¢˜éš¾åº¦ï¼šâ­


ç­”ï¼š

`typeof` ä¸ `instanceof` éƒ½å¯ä»¥ç”¨æ¥åˆ¤æ–­æ•°æ®ç±»å‹

-   `typeof` è¿”å›ä¸€ä¸ªå˜é‡çš„ç±»å‹å­—ç¬¦ä¸²ï¼Œ`instanceof` è¿”å›çš„æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼
-   `Â typeof`Â å¯ä»¥åˆ¤æ–­é™¤äº† `null` ä»¥å¤–çš„åŸºç¡€æ•°æ®ç±»å‹ï¼Œä½†æ˜¯åˆ¤æ–­å¼•ç”¨ç±»å‹æ—¶ï¼Œé™¤äº† `function`Â ç±»å‹ï¼Œå…¶ä»–çš„æ— æ³•å‡†ç¡®åˆ¤æ–­ã€‚
-   `instanceof`Â å¯ä»¥å‡†ç¡®åœ°åˆ¤æ–­å„ç§å¼•ç”¨ç±»å‹ï¼Œä½†æ˜¯ä¸èƒ½æ­£ç¡®åˆ¤æ–­åŸå§‹æ•°æ®ç±»å‹ã€‚

## typeof

`typeof` æ“ä½œç¬¦è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºæœªç»è®¡ç®—çš„æ“ä½œæ•°çš„ç±»å‹ã€‚

`typeof` å¯ä»¥ç²¾å‡†åœ°åˆ¤æ–­åŸå§‹ç±»å‹ï¼Œä½†æ˜¯ä¸èƒ½ç²¾å‡†åœ°åˆ¤æ–­ `null` å’Œ å¼•ç”¨ç±»å‹ã€‚

å¼•ç”¨ç±»å‹æ•°æ®ï¼Œç”¨`typeof`æ¥åˆ¤æ–­çš„è¯ï¼Œé™¤äº†`function`ä¼šè¢«è¯†åˆ«å‡ºæ¥ä¹‹å¤–ï¼Œå…¶ä½™çš„éƒ½è¾“å‡º`object`

```js
// æ•°å€¼
typeof 37 === 'number'
typeof 3.14 === 'number'
typeof (42) === 'number'
typeof Math.LN2 === 'number'
typeof Infinity === 'number'
typeof NaN === 'number' // å°½ç®¡å®ƒæ˜¯ "Not-A-Number" (éæ•°å€¼) çš„ç¼©å†™
typeof Number(1) === 'number' // Number ä¼šå°è¯•æŠŠå‚æ•°è§£ææˆæ•°å€¼

typeof 42n === 'bigint'

// å­—ç¬¦ä¸²
typeof '' === 'string'
typeof 'bla' === 'string'
typeof 'template literal' === 'string'
typeof '1' === 'string' // æ³¨æ„å†…å®¹ä¸ºæ•°å­—çš„å­—ç¬¦ä¸²ä»æ˜¯å­—ç¬¦ä¸²
typeof (typeof 1) === 'string' // typeof æ€»æ˜¯è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²
typeof String(1) === 'string' // String å°†ä»»æ„å€¼è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œæ¯” toString æ›´å®‰å…¨

// å¸ƒå°”å€¼
typeof true === 'boolean'
typeof false === 'boolean'
typeof Boolean(1) === 'boolean' // Boolean() ä¼šåŸºäºå‚æ•°æ˜¯çœŸå€¼è¿˜æ˜¯è™šå€¼è¿›è¡Œè½¬æ¢
typeof !!(1) === 'boolean' // ä¸¤æ¬¡è°ƒç”¨ ! (é€»è¾‘é) æ“ä½œç¬¦ç›¸å½“äº Boolean()

// Symbols
typeof Symbol() === 'symbol'
typeof Symbol('foo') === 'symbol'
typeof Symbol.iterator === 'symbol'

// Undefined
typeof undefined === 'undefined'
let a
typeof a === 'undefined' // declaredButUndefinedVariable
typeof undeclaredVariable === 'undefined' // undeclaredVariable

// Null
typeof null === 'object' // å†å²bug

// å¯¹è±¡
typeof { a: 1 } === 'object'

// ä½¿ç”¨ Array.isArray æˆ–è€… Object.prototype.toString.call
// åŒºåˆ†æ•°ç»„å’Œæ™®é€šå¯¹è±¡
typeof [1, 2, 4] === 'object'

typeof new Date() === 'object'
typeof /regex/ === 'object' // æ­£åˆ™è¡¨è¾¾å¼ä¹Ÿæ˜¯å¯¹è±¡

// ä¸‹é¢çš„ä¾‹å­ä»¤äººè¿·æƒ‘ï¼Œéå¸¸å±é™©ï¼Œæ²¡æœ‰ç”¨å¤„ã€‚é¿å…ä½¿ç”¨å®ƒä»¬ã€‚
typeof new Boolean(true) === 'object'
typeof new Number(1) === 'object'
typeof new String('abc') === 'object'

// å‡½æ•°
typeof function () {} === 'function'
typeof class C {} === 'function'
typeof Math.sin === 'function'
```

å¦‚æœæˆ‘ä»¬æƒ³è¦åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯å¦å­˜åœ¨ï¼Œå¯ä»¥ä½¿ç”¨`typeof`ï¼š(ä¸èƒ½ä½¿ç”¨`if(a)`ï¼Œ è‹¥`a`æœªå£°æ˜ï¼Œåˆ™æŠ¥é”™)

```js
if (a) {
  // Uncaught ReferenceError: a is not defined
}

if (typeof a !== 'undefined') {
  // è¿™æ ·ä¸ä¼šæŠ¥é”™ 
}
```
## instanceof

`instanceof`Â è¿ç®—ç¬¦ç”¨äºæ£€æµ‹æ„é€ å‡½æ•°çš„Â `prototype`Â å±æ€§æ˜¯å¦å‡ºç°åœ¨æŸä¸ªå®ä¾‹å¯¹è±¡çš„åŸå‹é“¾ä¸Šã€‚

```js
class Person {}

class Student extends Person {

}

const s1 = new Student()

s1 instanceof Student // true
s1 instanceof Person  // true
s1 instanceof Object  // true
```

å½“ç„¶ä¹Ÿå¯ä»¥ç”¨æ¥åˆ¤æ–­ç±»å‹ï¼Œä¸è¿‡ä¸€å®šè¦åˆ¤æ–­å¯¹è±¡å®ä¾‹çš„æ—¶å€™æ‰æ˜¯æ­£ç¡®çš„ã€‚

```js
const simpleStr = 'This is a simple string'
const myString = new String()
const newStr = new String('String created with constructor')

simpleStr instanceof String // false, éå¯¹è±¡å®ä¾‹ï¼Œå› æ­¤è¿”å› falseï¼Œæ— æ³•åˆ¤æ–­åŸå§‹ç±»å‹
myString instanceof String // true
newStr instanceof String // true
```

ä½¿ç”¨ instanceof å¯ä»¥ç²¾å‡†åœ°åˆ¤æ–­å¼•ç”¨ç±»å‹ã€‚

```js
[] instanceof Array   // true

const fn = function() {}
fn instanceof Function // true

const date = new Date()
date instanceof Date   // true

const re = new /abc/
re instanceof RegExp   // true

```

**ç»“å°¾**

è¿™æ˜¯é˜¿æ—æŒç»­æ›´æ–‡çš„ç¬¬36å¤©ï¼Œè¾“å‡ºæ´è§æŠ€æœ¯ï¼Œå†ä¼š!

å¦‚æœæˆ‘çš„æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œä½ çš„ğŸ‘å°±æ˜¯å¯¹æˆ‘çš„æœ€å¤§æ”¯æŒ^_^

ä¸Šä¸€ç¯‡ï¼š

[ã€Œå‰ç«¯æ¯æ—¥ä¸€é—®ï¼ˆ9ï¼‰ã€0.1 + 0.2 ä¸ºä»€ä¹ˆä¸ç­‰äº 0.3ï¼Ÿå¦‚ä½•è§£å†³ï¼Ÿ](https://github.com/wlllyfor/question-everyday/blob/main/JS/9.0.1%20%2B%200.2%20%E4%B8%BA%E4%BB%80%E4%B9%88%E4%B8%8D%E7%AD%89%E4%BA%8E%200.3%EF%BC%9F%E5%A6%82%E4%BD%95%E8%A7%A3%E5%86%B3%EF%BC%9F.md)

ä¸‹ä¸€ç¯‡ï¼š

[ã€Œå‰ç«¯æ¯æ—¥ä¸€é—®ï¼ˆ11ï¼‰ã€JS å¦‚ä½•ç²¾å‡†åœ°åˆ¤æ–­æ•°æ®ç±»å‹ï¼Ÿ](https://juejin.cn/post/7071835861213528078)