æœ¬é¢˜éš¾åº¦ï¼šâ­ â­ â­ 

ç­”ï¼š

**é¢è¯•è¿‡å…³ç‰ˆ**

```js
Function.prototype.myApply = function (context = window) {
  context.fn = this
  const args = arguments[1] || []
  const res = context.fn(...args)
  delete context.fn
  return res
}
```

**å°½å¯èƒ½å®Œå–„çš„ç‰ˆæœ¬**

```js
Function.prototype.myApply = function (context = window) {
  if (context === undefined || context === null) {
    context = window
  } else {
    context = Object(context)
  }
  const fn = Symbol('fn')
  context[fn] = this
  const args = arguments[1] || []
  const res = context[fn](...args)
  delete context[fn]
  return res
}
```
**å·ç‹ç‰ˆæœ¬**

```js
Function.prototype.myApply = function (context = window) {
  if (context === undefined || context === null) {
    context = window
  } else {
    context = Object(context)
  }
  const fn = Symbol('fn')
  context[fn] = this
  
  let args = arguments[1]
  if (args) { // å¦‚æœæœ‰ç¬¬äºŒä¸ªå‚æ•°ï¼Œå°±åˆ¤æ–­æ˜¯ä¸æ˜¯æ•°ç»„æˆ–è€…ç±»æ•°ç»„
    if (!Array.isArray(args) && !isArrayLike(args)) {
      throw new Error('applyå‡½æ•°ç¬¬äºŒä¸ªå‚æ•°ä¸æ˜¯æ•°ç»„æˆ–ç±»æ•°ç»„')
    }
    args = Array.from(args) // å°†ç±»æ•°ç»„è½¬æˆæ•°ç»„
  } else {
    args = [] // å¦‚æœæ²¡æœ‰ç¬¬äºŒä¸ªå‚æ•°ï¼Œå°±ä¸å¤„ç†
  }
  
  const res = context[fn](...args)
  
  delete context[fn]
  return res
}

// åˆ¤æ–­å¯¹è±¡æ˜¯å¦æ˜¯ç±»æ•°ç»„ï¼Œæ‘˜è‡ªã€ŠJavaScriptæƒå¨æŒ‡å—ã€‹
function isArrayLike(o) {
  if (o &&                                  // oä¸æ˜¯nullã€undefinedç­‰
    typeof o === 'object' &&                // oæ˜¯å¯¹è±¡
    isFinite(o.length) &&                   // o.lengthæ˜¯æœ‰é™æ•°å€¼
    o.length >= 0 &&                        // o.lengthä¸ºéè´Ÿå€¼
    o.length === Math.floor(o.length) &&    // o.lengthæ˜¯æ•´æ•°
    o.length < 4294967296)                  // o.length < 2^32
    return true
  else
    return false
}
```

apply å’Œ call çš„åŠŸèƒ½æ˜¯å·®ä¸å¤šçš„ï¼Œå”¯ä¸€çš„åŒºåˆ«æ˜¯ä¼ é€’å‡½æ•°å‚æ•°çš„å½¢å¼ä¸åŒï¼Œcall æ˜¯ä¸€ä¸ªå‚æ•°ä¸€ä¸ªå‚æ•°åœ°ä¼ ï¼Œapply æ˜¯æŠŠå‚æ•°æ”¾åˆ°ä¸€ä¸ªæ•°ç»„æˆ–è€…ç±»æ•°ç»„é›†åˆé‡Œï¼Œåªéœ€è¦ä¼ é€’è¿™ä¸ªé›†åˆã€‚

ä»–ä»¬çš„å®ç°æ˜¯å®Œå…¨å·®ä¸å¤šçš„ï¼Œ**é¢è¯•è¿‡å…³ç‰ˆ** å’Œ **å°½å¯èƒ½å®Œå–„ç‰ˆ** çš„å®ç°çš„ç»†èŠ‚è¯·å‚è€ƒ call çš„å®ç°ï¼Œå°±ä¸èµ˜è¿°äº†ã€‚

[æ‰‹å†™ä¸€ä¸ª call](xxx)

è‡³äº**å·ç‹ç‰ˆæœ¬**ï¼Œåªæ˜¯ä¸€ä¸ªæˆç§°ï¼Œå…¶å®ä¸€ç‚¹ä¹Ÿä¸å·ï¼Œå°±æ˜¯å¤šåŠ äº†ç±»æ•°ç»„çš„åˆ¤æ–­ï¼Œåˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯ç±»æ•°ç»„ï¼Œå‚è€ƒäº†ã€ŠJavaScriptæƒå¨æŒ‡å—ã€‹ä¸­çš„ isArrayLike æ–¹æ³•ã€‚

å…³äºç±»æ•°ç»„ï¼Œå¯ä»¥å‚è€ƒæˆ‘çš„è¿™ç¯‡æ–‡ç« ï¼š

[ã€Œå‰ç«¯æ¯æ—¥ä¸€é—®ï¼ˆ18ï¼‰ã€JS ä¸­ä¼ªæ•°ç»„æ€ä¹ˆè½¬æˆæ•°ç»„](https://juejin.cn/post/7074719051057987614)

**ç»“å°¾**

å¦‚æœæˆ‘çš„æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œä½ çš„ğŸ‘å°±æ˜¯å¯¹æˆ‘çš„æœ€å¤§æ”¯æŒ^_^

ä½ ä¹Ÿå¯ä»¥å…³æ³¨ã€Šå‰ç«¯æ¯æ—¥ä¸€é—®ã€‹è¿™ä¸ªä¸“æ ï¼Œé˜²æ­¢å¤±è”å“¦ï½

æˆ‘æ˜¯é˜¿æ—ï¼Œè¾“å‡ºæ´è§æŠ€æœ¯ï¼Œå†ä¼šï¼

ä¸Šä¸€ç¯‡ï¼š

[ã€Œå‰ç«¯æ¯æ—¥ä¸€é—®ï¼ˆ39ï¼‰ã€æ‰‹å†™ call  å‡½æ•°](https://github.com/wlllyfor/question-everyday/blob/main/Blog/39.%E6%89%8B%E5%86%99%20call%20%20%E5%87%BD%E6%95%B0.md)

ä¸‹ä¸€ç¯‡ï¼š

[ã€Œå‰ç«¯æ¯æ—¥ä¸€é—®ï¼ˆ41ï¼‰ã€æ‰‹å†™ bind å‡½æ•°](https://juejin.cn/post/7082501473031946270)