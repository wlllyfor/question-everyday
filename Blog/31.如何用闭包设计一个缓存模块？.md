æœ¬é¢˜éš¾åº¦ï¼šâ­ â­ 

ç­”ï¼š

é—­åŒ…çš„ä½œç”¨æ˜¯åˆ›é€ ç§æœ‰å˜é‡ï¼Œä¸”å»¶é•¿ç§æœ‰å˜é‡çš„ç”Ÿå‘½å‘¨æœŸï¼Œè¿™æ ·çš„ç‰¹æ€§å¯ä»¥ç”¨æ¥åšç¼“å­˜æ¨¡å—ï¼Œè®©ç§æœ‰å˜é‡å½“æˆç¼“å­˜ä¸€ç›´é©»æ‰åœ¨å†…å­˜ä¸­ï¼Œç›´åˆ°é¡µé¢è¢«é”€æ¯ã€‚

ä¸‹é¢ï¼Œæˆ‘ç”¨ä¸¤ä¸ªä¾‹å­æ¥åˆ—ä¸¾å¦‚ä½•ç”¨é—­åŒ…å®ç°ä¸€ä¸ªç¼“å­˜æ¨¡å—ã€‚

## ä¾‹1 ç¼“å­˜è€—æ—¶çš„è®¡ç®—

å‡è®¾æœ‰ä¸€ä¸ªè®¡ç®—éå¸¸è€—æ—¶ï¼Œéœ€è¦è®¾è®¡ä¸€ä¸ªç¼“å­˜æ¨¡å—æŠŠè®¡ç®—ç»“æœå­˜èµ·æ¥ï¼Œä¸‹æ¬¡è®¡ç®—å‰å…ˆçœ‹ä¸€ä¸‹ç¼“å­˜é‡Œæœ‰æ²¡æœ‰å€¼ï¼Œæœ‰å€¼å°±ç›´æ¥è¿”å›ï¼Œå°±è¿™æ ·å°±ä¸ç”¨æ¯æ¬¡é‡æ–°è®¡ç®—äº†ã€‚

æˆ‘ä»¬ç”¨è®¡ç®—ç´ æ•°æ¥æ¨¡æ‹Ÿä¸€ä¸ªéå¸¸è€—æ—¶çš„è®¡ç®—ï¼Œè®¡ç®—ç´ æ•°çš„ä»£ç å¦‚ä¸‹ï¼š

```js
function isPrime (n) {
  let res = n > 1

  for (let i = 2; i < n; i++) {
    if (n % i === 0) {
      res = false
      break
    }
  }
  
  return res
}

console.log(isPrime(2)) // true
console.log(isPrime(3)) // true
console.log(isPrime(4)) // false
console.log(isPrime(5)) // true
```
æ¥ä¸‹æ¥ï¼Œç”¨ä¸€ä¸ª cache å¯¹è±¡æ¥ç¼“å­˜è®¡ç®—ç»“æœï¼Œå¦‚æœ cache ä¸­æ²¡æœ‰å€¼å°±å­˜è¿›å»ï¼Œcache ä¸­æœ‰å€¼å°±ç›´æ¥è¿”å›ã€‚

```js
const cache = {}

function isPrime (n) {
  if (n in cache) {
    console.log(`cacheä¸­æœ‰${n}ï¼Œç›´æ¥è¿”å› :>> `, cache[n])
    return cache[n]
  }

  let res = n > 1

  for (let i = 2; i < n; i++) {
    if (n % i === 0) {
      res = false
      break
    }
  }

  console.log(`cacheä¸­æ²¡æœ‰${n}ï¼Œå­˜è¿›å» :>> `, res)
  cache[n] = res

  return res
}
```

æµ‹è¯•ä¸€ä¸‹ï¼š

```js
isPrime(3)
isPrime(4)
isPrime(5)
isPrime(5)
isPrime(5)

console.log('cache :>> ', cache)
```

![image.png](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e2fb44ec44404d779ebd1c0877f96544~tplv-k3u1fbpfcp-watermark.image?)


ä»¥ä¸Šä»£ç è™½ç„¶å¯ä»¥å®ç°ç¼“å­˜åŠŸèƒ½ï¼Œä½†æ˜¯æœ€å¤§çš„é—®é¢˜å°±æ˜¯ç¼“å­˜éœ€è¦å®šä¹‰ä¸€ä¸ªå…¨å±€å˜é‡ cacheã€‚

è¿™ä¸ªæ—¶å€™ï¼Œé—­åŒ…å‡ºç°äº†ï¼Œå…¶å®è¿™ä¸ª cache å˜é‡æ˜¯å¯ä»¥ç”¨é—­åŒ…éšè—çš„ã€‚

æŠŠ cache å®šä¹‰åˆ°ä¸€ä¸ªåŒ¿åå‡½æ•°å†…ï¼Œåœ¨è¿™ä¸ªåŒ¿åå‡½æ•°å†…éƒ¨è¿”å›è®¡ç®—ç´ æ•°çš„å‡½æ•°ï¼Œè¿™æ ·å°±å¯ä»¥åœ¨å¤–éƒ¨è°ƒç”¨è®¡ç®—ç´ æ•°çš„å‡½æ•°ï¼Œè€Œä¸” cache å¯¹è±¡å°±è¢«è—åˆ°äº†é—­åŒ…é‡Œï¼Œå…¨å±€è®¿é—®ä¸åˆ° cache å¯¹è±¡ï¼Œä»£ç å¦‚ä¸‹ï¼š

```js
const isPrime = (function () {
  const cache = {}

  return function (n) {
    if (n in cache) {
      console.log(`cacheä¸­æœ‰${n}ï¼Œç›´æ¥è¿”å› :>> `, cache[n])
      return cache[n]
    }

    let res = n > 1
    
    for (let i = 2; i < n; i++) {
      if (n % i === 0) {
        res = false
        break
      }
    }

    console.log(`cacheä¸­æ²¡æœ‰${n}ï¼Œå­˜è¿›å» :>> `, res)
    cache[n] = res

    return res
  }
})()

isPrime(3)
isPrime(4)
isPrime(5)
isPrime(5)
isPrime(5)
```

![image.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6bdd14ab08334dd7b33fc3c4d5da031a~tplv-k3u1fbpfcp-watermark.image?)

 
## ä¾‹2 ä»¿ localStorage

å®ç°ä¸€ä¸ªç®€å•çš„ç±»ä¼¼äº localStorage çš„åŠŸèƒ½ï¼Œå¯ä»¥é€šè¿‡ set æ–¹æ³•å­˜å€¼ï¼Œget æ–¹æ³•å–å€¼ã€‚

åŸç†å’Œä¾‹1ä¸€æ ·ï¼Œéƒ½æ˜¯æŠŠ cache å®šä¹‰åˆ°ä¸€ä¸ªåŒ¿åå‡½æ•°å†…éƒ¨ã€‚

è¿™ä¸ªåŒ¿åå‡½æ•°è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œåœ¨å¯¹è±¡ä¸Šæœ‰ç¼“å­˜æ¨¡å—çš„ get å’Œ set æ–¹æ³•ï¼Œé€šè¿‡ set æ–¹æ³•æŠŠæ•°æ®å­˜åˆ°åŒ¿åå‡½æ•°å†…éƒ¨çš„ cache å¯¹è±¡ä¸Šï¼Œé€šè¿‡ get æ–¹æ³•è¯»å–æ•°æ®ã€‚

```js
const myStorage = (function () {
  const cache = {}
  return {
    set: (key, val) => {
      cache[key] = val
    },
    get: (key) => {
      if (key in cache) {
        return cache[key]
      }
    }
  }
})()

myStorage.set('name', 'lin')
myStorage.set('age', 18)

console.log(myStorage.get('name'))
console.log(myStorage.get('age'))
```

![image.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bcbc97926bbc4fe38a154803b96842bc~tplv-k3u1fbpfcp-watermark.image?)


**ç»“å°¾**

å¦‚æœæˆ‘çš„æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œä½ çš„ğŸ‘å°±æ˜¯å¯¹æˆ‘çš„æœ€å¤§æ”¯æŒ^_^

ä½ ä¹Ÿå¯ä»¥å…³æ³¨ã€Šå‰ç«¯æ¯æ—¥ä¸€é—®ã€‹è¿™ä¸ªä¸“æ ï¼Œé˜²æ­¢å¤±è”å“¦ï½

æˆ‘æ˜¯é˜¿æ—ï¼Œè¾“å‡ºæ´è§æŠ€æœ¯ï¼Œå†ä¼šï¼

ä¸Šä¸€ç¯‡ï¼š

[ã€Œå‰ç«¯æ¯æ—¥ä¸€é—®ï¼ˆ30ï¼‰ã€é—­åŒ…å’Œç«‹å³æ‰§è¡Œå‡½æ•°IIFEçš„å…³ç³»](https://github.com/wlllyfor/question-everyday/blob/main/Blog/30.%E9%97%AD%E5%8C%85%E5%92%8C%E7%AB%8B%E5%8D%B3%E6%89%A7%E8%A1%8C%E5%87%BD%E6%95%B0IIFE%E7%9A%84%E5%85%B3%E7%B3%BB.md)

ä¸‹ä¸€ç¯‡ï¼š

[ã€Œå‰ç«¯æ¯æ—¥ä¸€é—®ï¼ˆ32ï¼‰ã€å¦‚ä½•ç”¨é—­åŒ…å®ç°ä¸€ä¸ªå•ä¾‹æ¨¡å¼ï¼Ÿ](https://github.com/wlllyfor/question-everyday/blob/main/Blog/32.%E5%A6%82%E4%BD%95%E7%94%A8%E9%97%AD%E5%8C%85%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F%EF%BC%9F.md)
