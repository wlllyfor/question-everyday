æœ¬é¢˜éš¾åº¦ï¼šâ­ 

ç­”ï¼š

- ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦
- ä½¿ç”¨ Array.from
- ä½¿ç”¨æ•°ç»„çš„ slice æ–¹æ³•

## ä»€ä¹ˆæ˜¯ä¼ªæ•°ç»„ï¼Ÿ

### åŸºæœ¬æ¦‚å¿µ

ä¼ªæ•°ç»„ï¼Œä¹Ÿå«ç±»æ•°ç»„ï¼Œè‹±æ–‡åç§° `Array-like`ï¼Œé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯åƒæ•°ç»„ä½†ä¸æ˜¯æ•°ç»„ï¼Œæœ‰ä»¥ä¸‹ç‰¹å¾ï¼š

- å…·æœ‰ length å±æ€§ã€‚
- å¯é€šè¿‡ç´¢å¼•è®¿é—®ä¼ªæ•°ç»„é‡Œçš„å…ƒç´ ã€‚
- ä¸èƒ½è°ƒç”¨æ•°ç»„ä¸Šçš„æ–¹æ³•ã€‚

ä¸¾ä¸ªä¾‹å­ï¼Œå‡½æ•°çš„éšå¼å‚æ•° `arguments` å°±æ˜¯ä¸€ä¸ªä¼ªæ•°ç»„ï¼Œ

```js
function add () {
  console.log('arguments :>> ', arguments)
  console.log('arguments.length :>> ', arguments.length)
  console.log('arguments[0] :>> ', arguments[0])
  arguments.push(1)
}

add(1, 2, 3)
```


![image.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2c6693f4219a4857b4910b00e5af61aa~tplv-k3u1fbpfcp-watermark.image?)

### JS å¸¸è§ä¼ªæ•°ç»„æœ‰å“ªäº›ï¼Ÿ

æœ‰ `arguments`å’Œ `DOM` å…ƒç´ é›†åˆã€‚

```js
function add () {
  console.log('arguments :>> ', arguments)
}

add(1, 2, 3)

const DOMTags = document.getElementsByClassName('test')
console.log('DOMTags :>> ', DOMTags)
console.log('document.childNodes :>> ', document.childNodes)
```

![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e22ece219e2e4ed582ed4455ac46af4c~tplv-k3u1fbpfcp-watermark.image?)

### ä¼ªæ•°ç»„çš„ç±»å‹æ˜¯ä»€ä¹ˆï¼Ÿ

è°ƒç”¨ `Object.prototype.toString` æ–¹æ³•æ¥çœ‹ä¸€ä¸‹ä¼ªæ•°ç»„çš„ç±»å‹ï¼Œ
```js
function add () {
  console.log('typeof arguments :>> ', Object.prototype.toString.call(arguments))
}

add(1, 2, 3)

const DOMTags = document.getElementsByClassName('test')

console.log('typeof DOMTags', Object.prototype.toString.call(DOMTags))
console.log('typeof document.childNodes :>> ', Object.prototype.toString.call(document.childNodes))
```

![image.png](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a7bc9e0d44174724879e79d07bd25334~tplv-k3u1fbpfcp-watermark.image?)

ç»“æœæ˜¾è€Œæ˜“è§ï¼Œä¼ªæ•°ç»„çš„ç±»å‹æ˜¯ä¸“é—¨çš„å¼•ç”¨ç±»å‹ï¼Œæ¯”å¦‚ [Arguments å¯¹è±¡](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Functions/arguments)ã€[HTMLCollection](https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLCollection)ã€[NodeList](https://developer.mozilla.org/zh-CN/docs/Web/API/NodeList)ã€‚

## ä¼ªæ•°ç»„è½¬æ•°ç»„

### æ‰©å±•è¿ç®—ç¬¦

```js
function add () {
  const args = [...arguments]
  args.push(1) // å¯ä»¥ä½¿ç”¨æ•°ç»„ä¸Šçš„æ–¹æ³•äº†
}

add(1, 2, 3)
```
### Array.from

```js
function add () {
  const args = Array.from(arguments)
  args.push(1) // å¯ä»¥ä½¿ç”¨æ•°ç»„ä¸Šçš„æ–¹æ³•äº†
}

add(1, 2, 3)
```

### æ•°ç»„ slice æ–¹æ³•

è¿™ä¸ªæ–¹æ³•ç°åœ¨ä¸å¸¸ç”¨äº†ï¼Œä½† es6 ä¹‹å‰æ²¡æœ‰æ‰©å±•è¿ç®—ç¬¦å’Œ Array.fromï¼Œç”¨çš„å°±æ˜¯è¿™ä¸ªæ–¹æ³•ã€‚

```js
function add () {
  const args = Array.prototype.slice.call(arguments)
  // ä¹Ÿå¯ä»¥è¿™ä¹ˆå†™ const args = [].slice.call(arguments) 
  args.push(1) // å¯ä»¥ä½¿ç”¨æ•°ç»„ä¸Šçš„æ–¹æ³•äº†
}

add(1, 2, 3)
```

**ä¸ºä»€ä¹ˆè¦è°ƒç”¨ call**

`call`Â æ˜¯å‡½æ•°çš„æ–¹æ³•ï¼Œç”¨æ¥æ”¹å˜Â `this`Â æŒ‡å‘ï¼Œç”¨Â `apply`Â ä¹Ÿå¯ä»¥ã€‚

å¦‚æœä¸æ”¹å˜`this`æŒ‡å‘ä¸ºç›®æ ‡ä¼ªæ•°ç»„ï¼Œ`this`å°†æ°¸è¿œæŒ‡å‘è°ƒç”¨çš„`Array.prototype`ï¼Œå°±ä¸ä¼šç”Ÿæ•ˆã€‚

**slice æ–¹æ³•åŸç†**

å¾ªç¯ä¼ªæ•°ç»„ï¼ŒæŠŠä¼ªæ•°ç»„çš„å…ƒç´ æŒ¨ä¸ªæ”¾åˆ°å®šä¹‰çš„ä¸€ä¸ªæ–°æ•°ç»„é‡Œï¼Œå†è¿”å›æ–°æ•°ç»„ï¼Œå·®ä¸å¤šæ˜¯ç±»ä¼¼è¿™æ ·çš„ä»£ç ï¼š

```js
Array.prototype.slice = function (start, end) {
  const res = []
  start = start || 0
  end = end || this.length
  for (let i = start; i < end; i++) {
    res.push(this[i]) // è¿™é‡Œçš„ this å°±æ˜¯ä¼ªæ•°ç»„ï¼Œæ‰€ä»¥è¦è°ƒç”¨ call
  }
  return res
}
```

**ç»“å°¾**

å¦‚æœæˆ‘çš„æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œä½ çš„ğŸ‘å°±æ˜¯å¯¹æˆ‘çš„æœ€å¤§æ”¯æŒ^_^

æˆ‘æ˜¯é˜¿æ—ï¼Œè¾“å‡ºæ´è§æŠ€æœ¯ï¼Œå†ä¼šï¼

ä¸Šä¸€ç¯‡ï¼š

[ã€Œå‰ç«¯æ¯æ—¥ä¸€é—®ï¼ˆ17ï¼‰ã€æ‰‹å†™ä¸€ä¸ªæ·±æ‹·è´](https://github.com/wlllyfor/question-everyday/blob/main/JS/17.%E6%89%8B%E5%86%99%E4%B8%80%E4%B8%AA%E6%B7%B1%E6%8B%B7%E8%B4%9D.md)

ä¸‹ä¸€ç¯‡ï¼š

[ã€Œå‰ç«¯æ¯æ—¥ä¸€é—®ï¼ˆ19ï¼‰ã€JS ä¸­å‡½æ•°ä¸ºä»€ä¹ˆè¢«ç§°ä¸ºä¸€ç­‰å…¬æ°‘ï¼Ÿ](https://github.com/wlllyfor/question-everyday/blob/main/JS/19.JS%20%E4%B8%AD%E5%87%BD%E6%95%B0%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A2%AB%E7%A7%B0%E4%B8%BA%E4%B8%80%E7%AD%89%E5%85%AC%E6%B0%91%EF%BC%9F.md)