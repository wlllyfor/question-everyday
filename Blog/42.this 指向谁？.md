æœ¬é¢˜éš¾åº¦ï¼šâ­ â­ 

æ‰§è¡Œä¸‹é¢çš„ä»£ç ï¼Œ æ‰“å°å‡ºæ¥çš„å€¼æ˜¯ä»€ä¹ˆï¼Ÿ

å…¨éƒ¨ç­”å¯¹ï¼Œthis å°±æŒæ¡äº†ã€‚

ç‰¢è®°é˜¿æ—æ€»ç»“çš„çŸ¥è¯†ç‚¹ï¼š


- å…¨å±€ä¸Šä¸‹æ–‡çš„ this æŒ‡å‘ windowã€‚

- å‡½æ•°ä¸Šä¸‹æ–‡çš„ this æŒ‡å‘ä¸æ˜¯å›ºå®šä¸å˜çš„ï¼Œå–å†³äºå‡½æ•°å¤„äºä»€ä¹ˆä½ç½®ã€ä»¥ä»€ä¹ˆæ–¹å¼è°ƒç”¨ï¼Œå¯ä»¥æ€»ç»“æˆå¦‚ä¸‹å›¾ï¼š


![image.png](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/661d860b017d42ffba2486f9c6983247~tplv-k3u1fbpfcp-watermark.image?)

ä¼˜å…ˆçº§æ˜¯`new`Â è°ƒç”¨ >Â `callã€applyã€bind`Â è°ƒç”¨ > å¯¹è±¡ä¸Šçš„å‡½æ•°è°ƒç”¨ > æ™®é€šå‡½æ•°è°ƒç”¨ã€‚

æ³¨æ„ï¼š

é˜¿æ—å†™è¿™ç¯‡æ–‡ç« çš„ç›®çš„ï¼Œä¸æ˜¯ä¸ºäº†è®©å¤§å®¶æ­»è®°ç¡¬èƒŒï¼Œè€Œæ˜¯ä¸ºäº†ç»™å‡ºä¸€äº›æ€è·¯å’Œå®è·µï¼Œè®©å¤§å®¶æ›´å¥½åœ°ç†è§£ thisã€‚

ä¸€ä¸ªèµ„æ·±çš„å‰ç«¯å·¥ç¨‹å¸ˆæ¥å›ç­”ç±»ä¼¼è¿™ç§æ‰“å°æŸä¸ªå€¼è¾“å‡ºä»€ä¹ˆï¼Œä¹Ÿä¸æ•¢ä¿è¯ä¸€å®šç­”å¯¹ï¼Œè¿™å¾ˆæ­£å¸¸ã€‚

å…³é”®åœ¨äºï¼Œèµ„æ·±å‰ç«¯å·¥ç¨‹å¸ˆå’Œå…¥é—¨å‰ç«¯å·¥ç¨‹å¸ˆçš„çŸ¥è¯†ç§¯ç´¯å’Œæ€è€ƒæ–¹å¼ä¸åŒï¼Œä¸€ä¸ªèµ„æ·±çš„å‰ç«¯å·¥ç¨‹å¸ˆï¼Œå³ä½¿å¿˜äº† this æŒ‡å‘è¿™ä¸ªä¸œè¥¿ï¼Œç¨å¾®ç¿»ä¸€ä¸‹æ–‡æ¡£ï¼Œå†åŠ¨æ‰‹å®è·µä¸€ä¸‹ï¼Œå¾ˆå¿«å°±è®°å›æ¥äº†ã€‚

è€Œå…¥é—¨å‰ç«¯å·¥ç¨‹å¸ˆå¦‚æœä¸æ‡‚ this æŒ‡å‘ï¼ŒåªçŸ¥é“æ­»è®°ç¡¬èƒŒï¼Œä¸å»å®è·µçš„è¯ï¼Œå¾ˆå¿«å°±ä¼šå¿˜è®°ï¼Œä¸‹æ¬¡å†é—®è¿˜æ˜¯ä¸ä¼šã€‚

## ç¬¬1é¢˜

```js
function fn() {
  console.log(this) // ?
}

fn()
```

## ç¬¬2é¢˜

```js
'use strict'

function fn() {
  console.log(this) // ?
}

fn()
```
## ç¬¬3é¢˜

```js
const obj = {
  lastName: 'lin',
  fn() {
    console.log(this)           // ?
    console.log(this.lastName)  // ?
  }
}

obj.fn()
```

## ç¬¬4é¢˜

```js
const obj = {
  lastName: 'lin',
  fn() {
    console.log(this)          // ?
    console.log(this.lastName) // ?
  }
}

const fn = obj.fn

fn()
```

## ç¬¬5é¢˜

```js
const person = {
  lastName: 'lin',
  wife: {
    lastName: 'xxx',
    fn () {
      console.log(this)          // ?
      console.log(this.lastName) // ?
    }
  }
}

person.wife.fn()
```

## ç¬¬6é¢˜

```js
const o1 = {
  text: 'o1',
  fn () {
    return this.text
  }
}

const o2 = {
  text: 'o2',
  fn () {
    return o1.fn()
  }
}

const o3 = {
  text: 'o3',
  fn () {
    var fn = o1.fn
    return fn()
  }
}

console.log(o1.fn())  // ?
console.log(o2.fn())  // ?
console.log(o3.fn())  // ?
```

## ç¬¬7é¢˜

```js
const o1 = {
  text: 'o1',
  fn () {
    return this.text
  }
}

const o2 = {
  text: 'o2',
  fn: o1.fn
}

console.log(o1.fn()) // ?
console.log(o2.fn()) // ?
```

## ç¬¬8é¢˜

```js
const foo = {
  name: 'lin',
  sayName() {
    console.log(this.name)
  }
}

const bar = {
  name: 'xxx'
}

foo.sayName.call(bar)   // ?
foo.sayName.apply(bar)  // ?
foo.sayName.bind(bar)() // ?
```

## ç¬¬9é¢˜

```js
function Person1 (name) {
  this.name = name
}
function Person2 (name) {
  this.name = name
  return {}
}
function Person3 (name) {
  this.name = name
  return {
    name: 'xxx'
  }
}
function Person4 (name) {
  this.name = name
  return 1
}

const p1 = new Person1('lin')
const p2 = new Person2('lin')
const p3 = new Person3('lin')
const p4 = new Person4('lin')

console.log(p1.name) // ?
console.log(p2.name) // ?
console.log(p3.name) // ?
console.log(p4.name) // ?
```

## ç¬¬10é¢˜

```js
var lastName = 'xxx'
const obj1 = {
  lastName: 'lin',
  fn() {
    setTimeout(function() {
      console.log(this.lastName) // ?
    })
  }
}

const obj2 = {
  lastName: 'lin',
  fn() {
    setTimeout(() => {
      console.log(this.lastName) // ?
    })
  }
}

obj1.fn() 
obj2.fn() 
```
## ç¬¬11é¢˜

```js
var lastName = 'xxx'
const obj1 = {
  lastName: 'lin',
  fn() {
    return () => {
      console.log(this.lastName) // ?
    }
  }
}

const obj2 = {
  lastName: 'lin',
  fn() {
    return () => {
      return () => {
        console.log(this.lastName) // ?
      }
    }
  }
}

obj1.fn()()
obj2.fn()()()
```
## ç¬¬12é¢˜

```js
function foo() {
  return a => {
    console.log(this.a)
  }
}

const obj1 = {
  a: 2
}

const obj2 = {
  a: 3
}
 
const bar = foo.call(obj1) // ?
bar.call(obj2)             // ?     
```

## ç¬¬ 13 é¢˜

```js
var a = 100
const foo = () => () => {
  console.log(this.a)
}

const obj1 = {
  a: 2
}

const obj2 = {
  a: 3
}

const bar = foo.call(obj1) // ?
bar.call(obj2)             // ?
```

## ç¬¬ 14 é¢˜

```js
let a = 100
const foo = () => () => {
  console.log(this.a)
}

const obj1 = {
  a: 2
}

const obj2 = {
  a: 3
}

const bar = foo.call(obj1) // ?
bar.call(obj2)             // ?
```


## ç­”æ¡ˆ
```js
// ç¬¬1é¢˜
window

// ç¬¬2é¢˜
undefined

// ç¬¬3é¢˜
{lastName: 'lin', fn: Æ’}
'lin'

// ç¬¬4é¢˜
window
undefined

// ç¬¬5é¢˜
{lastName: 'xxx', fn: Æ’}
'xxx'

// ç¬¬6é¢˜
'o1'
'o1'
undefined

// ç¬¬7é¢˜
'o1'
'o2'

// ç¬¬8é¢˜
'xxx'
'xxx'
'xxx'

// ç¬¬9é¢˜
'lin'
undefined
'xxx'
'lin'

// ç¬¬10é¢˜
'xxx'
'lin'

// ç¬¬11é¢˜
'lin'
'lin'

// ç¬¬12é¢˜ ç®­å¤´å‡½æ•°çš„ç»‘å®šæ— æ³•è¢«ä¿®æ”¹
2
bar.call(obj2) å•¥ä¹Ÿä¸è¾“å‡º

// ç¬¬13é¢˜ åŸç†åŒ12é¢˜
100
bar.call(obj2) å•¥ä¹Ÿä¸è¾“å‡º

// ç¬¬14é¢˜ let å£°æ˜çš„å˜é‡ä¸ä¼šæŒ‚è½½åˆ° window ä¸Š
undefined 
bar.call(obj2) å•¥ä¹Ÿä¸è¾“å‡º
```

**ç»“å°¾**

é˜¿æ—æ°´å¹³æœ‰é™ï¼Œæ–‡ä¸­å¦‚æœæœ‰é”™è¯¯æˆ–è¡¨è¾¾ä¸å½“çš„åœ°æ–¹ï¼Œéå¸¸æ¬¢è¿åœ¨è¯„è®ºåŒºæŒ‡å‡ºï¼Œæ„Ÿè°¢ï½

å¦‚æœæˆ‘çš„æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œä½ çš„ğŸ‘å°±æ˜¯å¯¹æˆ‘çš„æœ€å¤§æ”¯æŒ^_^

ä½ ä¹Ÿå¯ä»¥å…³æ³¨ã€Šå‰ç«¯æ¯æ—¥ä¸€é—®ã€‹è¿™ä¸ªä¸“æ ï¼Œé˜²æ­¢å¤±è”å“¦ï½

æˆ‘æ˜¯é˜¿æ—ï¼Œè¾“å‡ºæ´è§æŠ€æœ¯ï¼Œå†ä¼šï¼

ä¸Šä¸€ç¯‡ï¼š

[ã€Œå‰ç«¯æ¯æ—¥ä¸€é—®ï¼ˆ41ï¼‰ã€æ‰‹å†™ bind å‡½æ•°](https://github.com/wlllyfor/question-everyday/blob/main/Blog/41.%E6%89%8B%E5%86%99%20bind%20%E5%87%BD%E6%95%B0.md)

ä¸‹ä¸€ç¯‡ï¼š

[ã€Œå‰ç«¯æ¯æ—¥ä¸€é—®ï¼ˆ43ï¼‰ã€ç”¨è¿‡å¯é€‰é“¾æ“ä½œç¬¦ï¼ˆ ?.ï¼‰ å—ï¼Ÿ](https://github.com/wlllyfor/question-everyday/blob/main/Blog/43.%E7%94%A8%E8%BF%87%E5%8F%AF%E9%80%89%E9%93%BE%E6%93%8D%E4%BD%9C%E7%AC%A6%EF%BC%88%20%3F.%EF%BC%89%20%E5%90%97%EF%BC%9F.md)
